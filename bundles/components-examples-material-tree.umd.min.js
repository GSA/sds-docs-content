!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@angular/material/button"),require("@angular/material/checkbox"),require("@angular/material/icon"),require("@angular/material/input"),require("@angular/material/progress-bar"),require("@angular/material/tree"),require("tslib"),require("@angular/cdk/collections"),require("@angular/cdk/tree"),require("rxjs"),require("@angular/material/form-field")):"function"==typeof define&&define.amd?define("@angular/components-examples/material/tree",["exports","@angular/common","@angular/core","@angular/material/button","@angular/material/checkbox","@angular/material/icon","@angular/material/input","@angular/material/progress-bar","@angular/material/tree","tslib","@angular/cdk/collections","@angular/cdk/tree","rxjs","@angular/material/form-field"],t):t(((e=e||self).ng=e.ng||{},e.ng.componentsExamples=e.ng.componentsExamples||{},e.ng.componentsExamples.material=e.ng.componentsExamples.material||{},e.ng.componentsExamples.material.tree={}),e.ng.common,e.ng.core,e.ng.material.button,e.ng.material.checkbox,e.ng.material.icon,e.ng.material.input,e.ng.material.progressBar,e.ng.material.tree,e.tslib,e.ng.cdk.collections,e.ng.cdk.tree,e.rxjs,e.ng.material.formField)}(this,(function(e,t,n,r,a,o,i,l,c,d,s,u,m,p){"use strict";function h(e,t){if(1&e){var r=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"mat-tree-node",3),n.ɵɵelement(1,"button",4),n.ɵɵelementStart(2,"mat-checkbox",5),n.ɵɵlistener("change",(function e(a){n.ɵɵrestoreView(r);var o=t.$implicit;return n.ɵɵnextContext().todoLeafItemSelectionToggle(o)})),n.ɵɵtext(3),n.ɵɵelementEnd(),n.ɵɵelementEnd()}if(2&e){var a=t.$implicit,o=n.ɵɵnextContext();n.ɵɵadvance(2),n.ɵɵproperty("checked",o.checklistSelection.isSelected(a)),n.ɵɵadvance(1),n.ɵɵtextInterpolate(a.item)}}function g(e,t){if(1&e){var r=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"mat-tree-node",6),n.ɵɵelement(1,"button",4),n.ɵɵelementStart(2,"mat-form-field"),n.ɵɵelement(3,"input",7,8),n.ɵɵelementEnd(),n.ɵɵelementStart(5,"button",9),n.ɵɵlistener("click",(function e(a){n.ɵɵrestoreView(r);var o=t.$implicit,i=n.ɵɵreference(4);return n.ɵɵnextContext().saveNode(o,i.value)})),n.ɵɵtext(6,"Save"),n.ɵɵelementEnd(),n.ɵɵelementEnd()}}function f(e,t){if(1&e){var r=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"mat-tree-node",6),n.ɵɵelementStart(1,"button",10),n.ɵɵelementStart(2,"mat-icon",11),n.ɵɵtext(3),n.ɵɵelementEnd(),n.ɵɵelementEnd(),n.ɵɵelementStart(4,"mat-checkbox",12),n.ɵɵlistener("change",(function e(a){n.ɵɵrestoreView(r);var o=t.$implicit;return n.ɵɵnextContext().todoItemSelectionToggle(o)})),n.ɵɵtext(5),n.ɵɵelementEnd(),n.ɵɵelementStart(6,"button",13),n.ɵɵlistener("click",(function e(a){n.ɵɵrestoreView(r);var o=t.$implicit;return n.ɵɵnextContext().addNewItem(o)})),n.ɵɵelementStart(7,"mat-icon"),n.ɵɵtext(8,"add"),n.ɵɵelementEnd(),n.ɵɵelementEnd(),n.ɵɵelementEnd()}if(2&e){var a=t.$implicit,o=n.ɵɵnextContext();n.ɵɵadvance(1),n.ɵɵattribute("aria-label","toggle "+a.filename),n.ɵɵadvance(2),n.ɵɵtextInterpolate1(" ",o.treeControl.isExpanded(a)?"expand_more":"chevron_right"," "),n.ɵɵadvance(1),n.ɵɵproperty("checked",o.descendantsAllSelected(a))("indeterminate",o.descendantsPartiallySelected(a)),n.ɵɵadvance(1),n.ɵɵtextInterpolate(a.item)}}var M=function M(){},x=function x(){},v={Groceries:{"Almond Meal flour":null,"Organic eggs":null,"Protein Powder":null,Fruits:{Apple:null,Berries:["Blueberry","Raspberry"],Orange:null}},Reminders:["Cook dinner","Read the Material Design spec","Upgrade Application to Angular"]},S=function(){function e(){this.dataChange=new m.BehaviorSubject([]),this.initialize()}return Object.defineProperty(e.prototype,"data",{get:function(){return this.dataChange.value},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var e=this.buildFileTree(v,0);this.dataChange.next(e)},e.prototype.buildFileTree=function(e,t){var n=this;return Object.keys(e).reduce((function(r,a){var o=e[a],i=new M;return i.item=a,null!=o&&("object"==typeof o?i.children=n.buildFileTree(o,t+1):i.item=o),r.concat(i)}),[])},e.prototype.insertItem=function(e,t){e.children&&(e.children.push({item:t}),this.dataChange.next(this.data))},e.prototype.updateItem=function(e,t){e.item=t,this.dataChange.next(this.data)},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[]},e.ɵfac=function t(n){return new(n||e)},e.ɵprov=n.ɵɵdefineInjectable({token:e,factory:function(t){return e.ɵfac(t)},providedIn:null}),e}(),b=function(){function e(e){var t=this;this._database=e,this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this.newItemName="",this.checklistSelection=new s.SelectionModel(!0),this.getLevel=function(e){return e.level},this.isExpandable=function(e){return e.expandable},this.getChildren=function(e){return e.children},this.hasChild=function(e,t){return t.expandable},this.hasNoContent=function(e,t){return""===t.item},this.transformer=function(e,n){var r=t.nestedNodeMap.get(e),a=r&&r.item===e.item?r:new x;return a.item=e.item,a.level=n,a.expandable=!!e.children,t.flatNodeMap.set(a,e),t.nestedNodeMap.set(e,a),a},this.treeFlattener=new c.MatTreeFlattener(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new u.FlatTreeControl(this.getLevel,this.isExpandable),this.dataSource=new c.MatTreeFlatDataSource(this.treeControl,this.treeFlattener),e.dataChange.subscribe((function(e){t.dataSource.data=e}))}return e.prototype.descendantsAllSelected=function(e){var t=this;return this.treeControl.getDescendants(e).every((function(e){return t.checklistSelection.isSelected(e)}))},e.prototype.descendantsPartiallySelected=function(e){var t=this;return this.treeControl.getDescendants(e).some((function(e){return t.checklistSelection.isSelected(e)}))&&!this.descendantsAllSelected(e)},e.prototype.todoItemSelectionToggle=function(e){var t,n,r=this;this.checklistSelection.toggle(e);var a=this.treeControl.getDescendants(e);this.checklistSelection.isSelected(e)?(t=this.checklistSelection).select.apply(t,d.__spread(a)):(n=this.checklistSelection).deselect.apply(n,d.__spread(a)),a.every((function(e){return r.checklistSelection.isSelected(e)})),this.checkAllParentsSelection(e)},e.prototype.todoLeafItemSelectionToggle=function(e){this.checklistSelection.toggle(e),this.checkAllParentsSelection(e)},e.prototype.checkAllParentsSelection=function(e){for(var t=this.getParentNode(e);t;)this.checkRootNodeSelection(t),t=this.getParentNode(t)},e.prototype.checkRootNodeSelection=function(e){var t=this,n=this.checklistSelection.isSelected(e),r=this.treeControl.getDescendants(e).every((function(e){return t.checklistSelection.isSelected(e)}));n&&!r?this.checklistSelection.deselect(e):!n&&r&&this.checklistSelection.select(e)},e.prototype.getParentNode=function(e){var t=this.getLevel(e);if(t<1)return null;for(var n=this.treeControl.dataNodes.indexOf(e)-1;n>=0;n--){var r=this.treeControl.dataNodes[n];if(this.getLevel(r)<t)return r}return null},e.prototype.addNewItem=function(e){var t=this.flatNodeMap.get(e);this._database.insertItem(t,""),this.treeControl.expand(e)},e.prototype.saveNode=function(e,t){var n=this.flatNodeMap.get(e);this._database.updateItem(n,t)},e.decorators=[{type:n.Component,args:[{selector:"tree-checklist-example",templateUrl:"tree-checklist-example.html",styleUrls:["tree-checklist-example.css"],providers:[S]}]}],e.ctorParameters=function(){return[{type:S}]},e.ɵfac=function t(r){return new(r||e)(n.ɵɵdirectiveInject(S))},e.ɵcmp=n.ɵɵdefineComponent({type:e,selectors:[["tree-checklist-example"]],features:[n.ɵɵProvidersFeature([S])],decls:4,vars:4,consts:[[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"checked","change"],["matTreeNodePadding",""],["matInput","","placeholder","New item..."],["itemValue",""],["mat-button","",3,"click"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[3,"checked","indeterminate","change"],["mat-icon-button","",3,"click"]],template:function e(t,r){1&t&&(n.ɵɵelementStart(0,"mat-tree",0),n.ɵɵtemplate(1,h,4,2,"mat-tree-node",1),n.ɵɵtemplate(2,g,7,0,"mat-tree-node",2),n.ɵɵtemplate(3,f,9,5,"mat-tree-node",2),n.ɵɵelementEnd()),2&t&&(n.ɵɵproperty("dataSource",r.dataSource)("treeControl",r.treeControl),n.ɵɵadvance(2),n.ɵɵproperty("matTreeNodeDefWhen",r.hasNoContent),n.ɵɵadvance(1),n.ɵɵproperty("matTreeNodeDefWhen",r.hasChild))},directives:[c.MatTree,c.MatTreeNodeDef,c.MatTreeNode,c.MatTreeNodeToggle,c.MatTreeNodePadding,r.MatButton,a.MatCheckbox,p.MatFormField,i.MatInput,o.MatIcon],styles:[""]}),e}(),k=[b],y=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule,r.MatButtonModule,a.MatCheckboxModule,o.MatIconModule,i.MatInputModule,l.MatProgressBarModule,c.MatTreeModule],declarations:k,exports:k}]}],e.ɵmod=n.ɵɵdefineNgModule({type:e}),e.ɵinj=n.ɵɵdefineInjector({factory:function t(n){return new(n||e)},imports:[[t.CommonModule,r.MatButtonModule,a.MatCheckboxModule,o.MatIconModule,i.MatInputModule,l.MatProgressBarModule,c.MatTreeModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&n.ɵɵsetNgModuleScope(y,{declarations:[b],imports:[t.CommonModule,r.MatButtonModule,a.MatCheckboxModule,o.MatIconModule,i.MatInputModule,l.MatProgressBarModule,c.MatTreeModule],exports:[b]}),e.TreeChecklistExample=b,e.TreeExamplesModule=y,Object.defineProperty(e,"__esModule",{value:!0})}));